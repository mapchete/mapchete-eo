process: mapchete_eo.processes.eoxcloudless_mosaic_merge
input:
  sentinel2:
    region1:
      format: Sentinel-2
      level: L2A
      time:
        start: 2023-08-10
        end: 2023-08-13
      cat_baseurl: sentinel2/full_products/catalog.json
      # upper half of tile 13 2001 8910
      area: "POLYGON ((15.79833984375 46.021728515625, 15.79833984375 46.03271484375, 15.7763671875 46.03271484375, 15.7763671875 46.021728515625, 15.79833984375 46.021728515625))"
    region2:
      format: Sentinel-2
      level: L2A
      time:
        start: 2023-08-15
        end: 2023-08-18
      cat_baseurl: sentinel2/full_products/catalog.json
      # lower half of tile 13 2001 8910
      area: "POLYGON ((15.79833984375 46.0107421875, 15.79833984375 46.021728515625, 15.7763671875 46.021728515625, 15.7763671875 46.0107421875, 15.79833984375 46.0107421875))"
output:
  format: GTiff
  bands: 3
  path: eoxcloudless_tmp
  dtype: uint16
pyramid:
  grid: geodetic
# DEBUG: use zoom 13 with the fancy date range
zoom_levels: 13
# tile 13 2001 8910
bounds: [15.7763671875, 46.0107421875, 15.79833984375, 46.03271484375]

process_parameters:
  resampling: bilinear
  target_height: 10
  read_masks: true
  mask_config:
    footprint: true
    buffer: 16
    cloud_probability_threshold: 20
    cloud_probability_resolution: 20
    scl_classes: ["vegetation"]
  custom_mask_config:
    footprint: true
    l1c_cloud_type: all
    buffer: 0
    cloud_probability_threshold: 60
    cloud_probability_resolution: 60     
  # DEBUG: RGB + NIR for fun
  # assets: ["red", "green", "blue", "nir"]
  assets: ["red", "green", "blue"]
  from_brightness_extract_method: third_quartile